import java.io.*;
import java.util.*;
public class Server {
  public static void main (String[] args) {
    int tcpPort;
    int udpPort;
    if (args.length != 3) {
      System.out.println("ERROR: Provide 3 arguments");
      System.out.println("\t(1) <tcpPort>: the port number for TCP connection");
      System.out.println("\t(2) <udpPort>: the port number for UDP connection");
      System.out.println("\t(3) <file>: the file of inventory");
      //System.exit(-1);
    }
    //tcpPort = Integer.parseInt(args[0]);
    //udpPort = Integer.parseInt(args[1]);
    //String fileName = args[2];
    Hashtable<String, Integer> items = new Hashtable<String, Integer>();
 // This will reference one line at a time
    String line = null;
    String[] item = new String[2];

    try {
        // FileReader reads text files in the default encoding.
        FileReader fileReader = 
            new FileReader("input/inventory.txt");

        // Always wrap FileReader in BufferedReader.
        BufferedReader bufferedReader = 
            new BufferedReader(fileReader);

        while((line = bufferedReader.readLine()) != null) {
            //System.out.println(line);
        	line = line.trim();
        	item = line.split(" ");
        	items.put(item[0], Integer.valueOf(item[1]));
        	System.out.println(items);
        }   

        // Always close files.
        bufferedReader.close();         
    }
    catch(FileNotFoundException ex) {
        System.out.println(
            "Unable to open file '" + fileName + "'");                
    }
    catch(IOException ex) {
        System.out.println(
            "Error reading file '" + fileName + "'");                  
    }
    // parse the inventory file

    // TODO: handle request from clients
  }
}
